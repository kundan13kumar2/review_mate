import jwt
import time
import base64
from pathlib import Path

APP_ID = "1792915"  # From GitHub App settings
PRIVATE_KEY_BASE64 = "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBeUhibytDODNZbkVtc0cyRCt4bTdMN2hYbjN2STdPTllHYjhCRW5PTnh0OGlOa3R0Cm9paGFlN1VKajhFUkMzeDQ0SDdseUFWTWVwK2VCS3VqRHkvazVYejNDT3NSNlZJSGRIaXFIazhySjNaaG5mU3QKQ083L0JLZUEvek9FanFWemNKaUg0a0xDS0pOdUtuelhPcm14YlNIR3FGdEdtVFlNK2V6STE3eUdTd2pxSW1lZQo1bFcrZEZpRnA3eVN2a0x1VGk3MlFOYmJKYW51cG9FTnAxazdCK1VjNXlkV3RSOXgvRHJid21hRDVSZ211ckVRCmlMOU9jNklJMlFFYVFqT3B4aE1mUlk3NVE0RVNKL2pQTDljdXFFTWtKcTZQVWkvWEtoRndiU2tlVEZKclFzL2gKUXpSZEloa2JwdGlLNnFvQldWcUt1YXh0TkxiMnZ5RVpTNFlGdFFJREFRQUJBb0lCQVFDek9XVEdaMmhyOGQvMgpRcU9KL3hKVThzb2NRMDU3UkRNREticXFwWGN2UTFWU0Y1UFlNNTNhRmh5TFVzQ0xkV2lZeGJ0b1hoeG5VWWUwCmcwT1FrM0JoSUoyNGNub2NFUU9yUlNwTFdOcXJPSExFQnZvaEQ1UWV0Q2RuZ3NiVHhlWjAxMW85bHhRQnRQWDgKdElxMDdVcE0yTExFMkg1QkFvc05jMzZKS3ZzaDN5bTVrZCsxYzdUR3ZNN2JFcHd5d0dLQ0N0SkZPMVRKZ3AzbgpJeWxYUzQwOHFBSE9DdEZwMEpmS0MrTG9jMkpOZWZwR3A3d2JkeGtKMU8xSXFXVGtaekV5YWdyQ1RlYXVuVXRTCnZtVmlDZG1kM1QyVzcxRmpJdDJZTEJSY2pnajBmSGNzdnV1OGZ3VjlUakJiMnZidjBoa2czWW1LdlRTeFNWeisKam4xTHExT2hBb0dCQVA0eGZ3Z3M3dytWekpSVWE4ZXloTVpzOXpUQWFUZGlwTFZpMFR4TlJ4bElialJ4SGxaTwpnYXIxS3NvZ05QT1h1RUVRWSsyaXhORGlGMFFPOHVMOVVUQTVKMlRINFlUdFZsOWpBYXF3K1dSbmlERXhEcGNYCjhUdXk5MGM4R2ZYUTZpa0w2QURUZytjbDVtWmlKTlo4YW9lSVZhRlQ1Sm1oY0sxV053WGxLTVlaQW9HQkFNbmoKcDRYSGd2V0VIdWljRFB1eHlNMWMzd3M0dmRBaGhMVmhEMlBuUURGekdyRDdVMXl1eEpwcm9OY0hjQ0Z1bDRFSQphR1YwNmRaclY4MXBUcDFGZ1RUdlpCd3pVaWxrQ2ZLWkJhRkkySFBXVkdRQ2Z5a1YzdG0wQnROQXFmcnFDVFc2CkFuWHhCREgzR0twSy9mbjNWNVc3SUlGYjNBRnNOdUFwa1phdG5oZjlBb0dBQUp6aDc0VWNObTlvQk51SFB2NEIKTC9GSFQwcy9kYkM1TU83Q0RtRXBVTGhKKzdwaUZsY3VITmxtZHdKSTNtVjVQajdwM3NMTHNxMDQzU01rRnNRQgpsQm92TENFSFBDak9Vb0NNbW5xK3Z5MDR1TldqY1YzUGFSTnZZUzZWNlcvTmdMZlVvVnZoTDRkNTNMbFQyV2lICllUaEU3SlNsTW5HZk1ldkpTaXhaUXRFQ2dZQlBXNVpCQnRDYWMybTI0NGhTODJwTUZ5SnhoY2RPNWE0Rm9mWnIKdmIzRThrcmVvSnYvQlkrd1ozZ2NyZ2JNalcwdVFrRFBDS3JXSnZHbmc2cHNOYUw1VE5SY0pXdzVhdUppSXZaTQpsSmJJeWNuNFdlYmtIbjJ2czQwdlF1N04rMnJOWEtXVStMMCthck9lVk1ZS21NZ3J5aGVYNGFUVVJsWTN2UDlHCmJFNkZmUUtCZ0YwQjc4c2lxSTNoNnlGZEhENFNDeE5vR0VhVXdpMk5VT2w5WCtNTko0eUtOWW1GdVdzalFRWHUKTS91OVFXRjJDWWVVYlFaa2c0a1psTHM0MGxhV0pvSEx2ODJ5cjdHVm5wR1UxcHN6ako2Rmt5MDkycG1kZVYzeQp2ZjhBNnN3K0pEcFRPT2x5UkNCcDhGNWNnODhaNmRoSU1sWmFITThHMUJxUGUxMkFZRjRxCi0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg=="

# Decode the base64-encoded private key
PRIVATE_KEY = base64.b64decode(PRIVATE_KEY_BASE64).decode('utf-8')

payload = {
    "iat": int(time.time()),         
    "exp": int(time.time()) + 600,   
    "iss": APP_ID                    
}

jwt_token = jwt.encode(payload, PRIVATE_KEY, algorithm="RS256")
print(jwt_token)
